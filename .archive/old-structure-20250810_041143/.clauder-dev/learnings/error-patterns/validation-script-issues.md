---
doc_id: 727
---

# 검증 스크립트 문제와 해결책

## 상황
검증 스크립트 실행 시 많은 가짜 양성(false positive) 오류 발생

## 초기 접근 방법
1. 모든 오류를 실제 문제로 간주
2. 하나씩 수정하려고 시도
3. 중복 doc_id와 깨진 참조 73개 발견

## 더 나은 해결책
1. 예시 코드와 실제 코드 구분
2. 문서 파일(*.md)과 도구 파일(*.yaml, *.sh, *.py) 구분
3. 대량 수정 시 sed 스크립트 활용

## 근본 원인
검증 스크립트가 너무 단순하여:
- 코드 블록 안의 예시도 실제로 인식
- 파일 확장자 구분 없이 모든 경로를 문서로 취급
- 대소문자 구분 문제 미리 체크하지 않음

## 재발 방지 방법

### 1. 검증 스크립트 개선
```bash
# 코드 블록 제외하고 검증
grep -v "^\`\`\`" | grep "doc_id:"

# md 파일만 문서로 계산
find . -name "*.md" -type f

# 대소문자 정규화
tr '[:upper:]' '[:lower:]'
```

### 2. 예시 코드 표시 개선
```yaml
# 실제 doc_id
doc_id: 727

# 예시에서는 명확히 표시
doc_id: 999  # 예시 - 실제 사용 금지
```

### 3. 작업 전 사전 검증
- 파일 존재 여부 먼저 확인
- 대소문자 일치 여부 확인
- 예시와 실제 구분 명확히

### 4. 대량 수정 시 원칙
- 백업 파일 생성 (.bak)
- sed 명령 테스트 후 적용
- 수정 후 즉시 검증

## 실제 적용한 해결책
1. fix-references.sh 스크립트로 73개 참조 일괄 수정
2. 예시 doc_id를 999, 998 등으로 변경
3. 대소문자 불일치 파일명 수정
4. 검증 요약 보고서 작성으로 실제/가짜 문제 구분

## 배운 점
- 도구의 한계를 이해하고 결과를 비판적으로 해석
- 반복 작업은 즉시 자동화
- 예시 코드는 실제와 명확히 구분되도록 표시